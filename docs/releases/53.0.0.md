# Nativefier v53.0.0 Release Notes

## Overview

This release represents a major modernization of Nativefier, bringing it up to date with the latest versions of Electron, Node.js, and all major dependencies. While the official Nativefier project was archived in September 2023, this fork continues development with significant updates and improvements.

## Major Changes

### Electron Update
- **Updated from Electron 25.7.0 to 39.0.0**
  - Brings latest Chromium 142 and Node.js 22.20.0
  - Includes all security patches and performance improvements
  - Fixes multiple security vulnerabilities (GHSA-6r2x-8pq8-9489, GHSA-vmqv-hx8q-j7mg)

### Dependency Updates

#### Core Dependencies
- `@electron/asar`: 3.2.4 → 3.4.1
- `@electron/packager`: Replaced deprecated `electron-packager` 17.1.1 with `@electron/packager` 18.4.1
- `axios`: 1.4.0 → 1.7.9 (fixes multiple security vulnerabilities)
- `fs-extra`: 11.1.1 → 11.3.2
- `loglevel`: 1.8.1 → 1.9.2
- `tmp`: 0.2.1 → 0.2.5
- `yargs`: 17.7.2 (kept for stability)

#### Development Dependencies
- `@types/node`: 20.5.6 → 22.10.5
- `typescript`: 5.1.6 → 5.7.3
- `webpack`: 5.88.2 → 5.97.1
- `webpack-cli`: 5.1.4 → 6.0.1
- `playwright`: 1.36.2 → 1.49.1
- `jest`: 29.6.2 → 29.7.0
- `rimraf`: 5.0.1 → 6.0.1
- `ts-loader`: 9.4.4 → 9.5.1
- `prettier`: 3.0.1 → 3.4.2
- `eslint`: 8.46.0 → 8.57.1
- `@typescript-eslint/eslint-plugin`: 6.4.1 → 6.21.0
- `@typescript-eslint/parser`: 6.4.1 → 6.21.0

### Node.js Requirements
- **Minimum Node.js version updated from 16.16.0 to 18.0.0**
- **Minimum npm version updated from 8.11.0 to 9.0.0**

### TypeScript Configuration Updates
- Updated `src/tsconfig.json` target from ES2019 to ES2021
- Updated `app/tsconfig.json` target from ES2018 to ES2022
- Updated `shared/tsconfig.json` target from ES2018 to ES2021

## Breaking Changes

### API Changes
1. **Icon parameter type change**: The `icon` option now accepts `string | string[]` instead of just `string`. This aligns with @electron/packager's support for multiple icon resolutions. Code has been updated to handle both cases.

2. **electron-packager → @electron/packager**: Projects directly importing electron-packager types will need to update imports.

### Migration Required
If you're upgrading from v52.0.0:
1. Update your Node.js to version 18 or later
2. Update npm to version 9 or later
3. Re-run `npm install` to get updated dependencies
4. If you have custom code that interacts with icon handling, ensure it handles both string and string[] types

## Bug Fixes

### Fixed TypeScript Compilation Errors
- **playwright-test.ts**: Fixed `once()` event listener compatibility issue with Playwright's Page type
  - Changed from Node.js `events.once()` to Playwright's native `page.waitForEvent()`
  - Removed unused Dialog import

### Fixed Type Compatibility Issues
- Updated icon handling throughout the codebase to support `string | string[]` types
- Fixed type conflicts between @electron/asar versions
- Updated IconParams interface to match new icon types

## Code Quality Improvements

### Linting and Formatting
- All code now passes ESLint checks
- Applied Prettier formatting consistently across the codebase
- Fixed all auto-fixable linting issues

### Code Modernization
- Removed use of deprecated Node.js APIs
- Updated to use modern TypeScript patterns
- Improved type safety throughout the codebase

## Known Issues

### Security Warnings
- **axios vulnerabilities in transitive dependencies**: The packages `gitcloud` and `page-icon` depend on older versions of axios with known vulnerabilities. These are third-party dependencies that need to be updated upstream or replaced.
  - GHSA-wf5p-g6vw-rhxx (CSRF)
  - GHSA-jr5f-v2jv-69x6 (SSRF)
  - GHSA-4hjh-wcwx-xvwj (DoS)

### Test Results
- All unit tests pass
- Integration tests may fail due to network issues (e.g., 403 responses from npmjs.com)
- Playwright tests pass with the updated event handling

## Deprecation Notices

The following npm packages show deprecation warnings during installation:
- `inflight`: No longer supported, leaks memory
- `lodash.get`: Deprecated in favor of optional chaining operator
- `glob@7.2.3`: Versions prior to v9 no longer supported
- `boolean@3.2.0`: No longer supported
- `rimraf@3.0.2`: Versions prior to v4 no longer supported
- `@humanwhocodes/config-array` and `@humanwhocodes/object-schema`: ESLint related

These are transitive dependencies and will be addressed in future updates.

## Testing

### Validation Performed
- ✅ TypeScript compilation succeeds
- ✅ Build process completes successfully
- ✅ All linting checks pass
- ✅ Unit tests pass
- ✅ Code formatting is consistent

### Recommended Testing
Before deploying this version, test:
1. Building applications for your target platforms (Windows, macOS, Linux)
2. Icon conversion functionality
3. Application packaging and signing
4. Any custom build scripts or integrations

## Upgrade Guide

### For End Users
```bash
# Update to latest version
npm install -g nativefier@53.0.0

# Verify installation
nativefier --version
```

### For Contributors
```bash
# Clone the repository
git clone <repository-url>
cd nativefier

# Install dependencies
npm install

# Build the project
npm run build

# Run tests
npm test

# Run linter
npm run lint
```

## Future Improvements

### Recommended Next Steps
1. **Replace or update vulnerable dependencies**: Address axios vulnerabilities in gitcloud and page-icon
2. **Upgrade to ESLint 9**: Migrate to the new flat config format
3. **Update deprecated dependencies**: Replace deprecated packages with maintained alternatives
4. **Add more comprehensive tests**: Increase test coverage, especially for icon handling
5. **CI/CD improvements**: Update GitHub Actions workflows to use Node.js 18+

### Performance Optimizations
- Consider removing unused dependencies
- Evaluate bundle size optimization opportunities
- Profile and optimize build times

## Credits

This release modernizes the codebase originally created by the Nativefier team. While the official project is archived, this fork continues to maintain and improve the tool for the community.

## Links

- [GitHub Repository](https://github.com/nativefier/nativefier)
- [Issue Tracker](https://github.com/nativefier/nativefier/issues)
- [Electron Release Notes](https://www.electronjs.org/docs/latest/breaking-changes)
- [Original Nativefier](https://github.com/nativefier/nativefier)

---

**Release Date**: October 29, 2025
**Version**: 53.0.0
**Type**: Major Release
